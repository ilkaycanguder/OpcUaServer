<Window x:Class="OpcUaClientWPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:OpcUaClientWPF"
        mc:Ignorable="d"
        Title="OPC UA Tag Viewer" Height="600" Width="800">

    <!--<Window.Resources>
        <local:BoolToBackgroundConverter x:Key="BoolToBackgroundConverter"/>
    </Window.Resources>-->

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 🔹 Durum Göstergesi -->
        <Border Grid.Row="0" Background="#E3F2FD" Padding="10" CornerRadius="5" Margin="0,0,0,10">
            <TextBlock x:Name="statusTextBlock" 
                       Text="OPC UA Sunucusuna bağlanıyor..." 
                       FontWeight="Bold"
                       Foreground="#1565C0"/>
        </Border>

        <!-- 🔹 OPC UA Tag Listesi -->
        <Border Grid.Row="1" BorderBrush="#CCCCCC" BorderThickness="1" Background="#F5F5F5" CornerRadius="8">
            <ListView x:Name="tagsListView"
                      ItemsSource="{Binding OpcTags}"
                      Margin="5"
                      Background="Transparent"
                      BorderThickness="0"
                      ScrollViewer.VerticalScrollBarVisibility="Auto">

                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="Tag Name" Width="250">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding TagName}" FontWeight="Bold"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>

                        <GridViewColumn Header="Tag Value" Width="250">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding TagValue}" Foreground="DarkBlue"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>

                        <GridViewColumn Header="Düzenle" Width="100">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="✏️" 
                                            Width="50" 
                                            Height="30" 
                                            CommandParameter="{Binding}" 
                                            Click="EditTag_Click"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                    </GridView>
                </ListView.View>
            </ListView>
        </Border>

        <!-- 🔹 Yeni Tag Ekleme ve Mesaj Gönderme Alanı -->
        <!--<Grid Grid.Row="2" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBox x:Name="newTagNameTextBox"
                     Height="40"
                     VerticalContentAlignment="Center"
                     Padding="10,5"
                     FontSize="14"
                     Background="White"
                     BorderBrush="#CCCCCC"
                     BorderThickness="1"
                     Text="Tag Name"/>

            <TextBox x:Name="newTagValueTextBox"
                     Height="40"
                     VerticalContentAlignment="Center"
                     Padding="10,5"
                     FontSize="14"
                     Background="White"
                     BorderBrush="#CCCCCC"
                     BorderThickness="1"
                     Margin="5,0,0,0"
                     Text="Tag Value"/>

            <Button x:Name="addTagButton"
                    Content="Ekle"
                    Width="100"
                    Height="40"
                    FontSize="14"
                    Foreground="White"
                    Background="#4CAF50"
                    BorderThickness="0"
                    Margin="10,0,0,0"
                    Click="addTagButton_Click"/>
        </Grid>-->

        <!-- 🔹 Sohbet Mesajları -->
        <!--<Border Grid.Row="1" BorderBrush="#CCCCCC" BorderThickness="1" Background="White" CornerRadius="8" Margin="0,468,72,0" Grid.RowSpan="2">
            <ListBox x:Name="chatListBox"
                     ItemsSource="{Binding MessageList}"
                     Margin="5"
                     Background="Transparent"
                     BorderThickness="0"
                     ScrollViewer.VerticalScrollBarVisibility="Auto">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <StackPanel>
                            <TextBlock Text="{Binding Sender}" FontWeight="Bold"/>
                            <TextBlock Text="{Binding Content}" TextWrapping="Wrap"/>
                            <TextBlock Text="{Binding Timestamp, StringFormat=HH:mm:ss}" FontSize="10" Opacity="0.7"/>
                        </StackPanel>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>-->

        <!-- 🔹 Mesaj Girişi ve Gönder Butonu -->
        <!--<Grid Grid.Row="4" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBox x:Name="messageTextBox"
                     Height="40"
                     VerticalContentAlignment="Center"
                     Padding="10,5"
                     FontSize="14"
                     Background="White"
                     BorderBrush="#CCCCCC"
                     BorderThickness="1"
                     Text="" Margin="0,0,99,0"/>

            <Button x:Name="sendButton"
                    Content="Gönder"
                    Width="100"
                    Height="40"
                    FontSize="14"
                    Foreground="White"
                    Background="#4CAF50"
                    BorderThickness="0"
                    Margin="687,4,-7,-4"
                    Click="SendButton_Click" Grid.ColumnSpan="2"/>
        </Grid>-->
    </Grid>

</Window>
